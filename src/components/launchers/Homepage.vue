<template>
  <div class="homepage">
    <div class="container">
      <div class="homepage-header row" style="margin-top: 76px">
        <div class="col-sm text-center">
          <h1>Story Synth</h1>
          <h2>Make, play, and share storytelling games</h2>
        </div>
      </div>

      <div class="homepage-gif row">
        <div class="embed-responsive embed-responsive-16by9 mb-3">
          <video class="embed-responsive-item" autoplay loop controls muted>
            <source
              src="https://diegeticgames.com/uploads/story-synth-teaser.mp4"
              type="video/mp4"
            />
          </video>
        </div>
      </div>

      <div class="homepage-about ">
        <div class="row">
          <h3 class="col-sm">
            Story Synth is a free web platform for making, playing, and sharing storytelling games with nothing but Google Sheets and your creativity!
          </h3>
        </div>
        <div class="row">
          <div class="col-4 d-flex flex-column">
            Designing is easy! Just add prompts to Google Sheets and paste the sheet link here
            <img class="img img-fluid mt-auto" src="/img/connection.svg" alt="">
          </div>
          <div class="col-4 d-flex flex-column">
            Plenty of formats and extensions for you to customize your game
            <img class="img img-fluid mt-auto" src="/img/connection.svg" alt="">
          </div>
          <div class="col-4 d-flex flex-column">
            Game sessions have realtime multiplayer, perfect for online play
            <img class="img img-fluid mt-auto" src="/img/connection.svg" alt="">
          </div>
        </div>
      </div>

      <div class="homepage-play">
        <h2 class="text-center">Play an existing game</h2>

        <div class="row">
          <div class="offset-lg-0 col-lg-12 col-md-4 mb-1">
            <div class="card shadow mb-2">
              <div class="row no-gutters">
                <div class="col-lg-4">
                  <a href="/Games/Around-The-Realm">
                    <img src="https://img.itch.zone/aW1nLzQ4MzI3NjAucG5n/315x250%23cb/Kb6Vr8.png" alt="Around the Realm logo" class="card-img">
                  </a>
                </div>
                <div class="col-lg-8">
                  <div class="card-body d-flex flex-column h-100">
                    <h5 class="card-title">Around the Realm</h5>
                    <h6 class="card-subtitle text-muted mb-2">By Randy Lubin</h6>
                    <div class="card-text">Tell the story of two companions racing around a fantasy world in order to win a wager.</div>
                    <a href="/Games/Around-The-Realm" target="_self" class="btn mt-auto align-self-start stretched-link ">Play game</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        
          <div class="offset-lg-0 col-lg-12 col-md-4 mb-1">
            <div class="card shadow mb-2">
              <div class="row no-gutters">
                <div class="col-lg-4">
                  <a href="/Games/Around-The-Realm">
                    <img src="https://img.itch.zone/aW1nLzQ4MzI3NjAucG5n/315x250%23cb/Kb6Vr8.png" alt="Around the Realm logo" class="card-img">
                  </a>
                </div>
                <div class="col-lg-8">
                  <div class="card-body d-flex flex-column h-100">
                    <h5 class="card-title">Around the Realm</h5>
                    <h6 class="card-subtitle text-muted mb-2">By Randy Lubin</h6>
                    <div class="card-text">Tell the story of two companions racing around a fantasy world in order to win a wager.</div>
                    <a href="/Games/Around-The-Realm" target="_self" class="btn mt-auto align-self-start stretched-link ">Play game</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        
          <div class="offset-lg-0 col-lg-12 col-md-4 mb-1">
            <div class="card shadow mb-2">
              <div class="row no-gutters">
                <div class="col-lg-4">
                  <a href="/Games/Around-The-Realm">
                    <img src="https://img.itch.zone/aW1nLzQ4MzI3NjAucG5n/315x250%23cb/Kb6Vr8.png" alt="Around the Realm logo" class="card-img">
                  </a>
                </div>
                <div class="col-lg-8">
                  <div class="card-body d-flex flex-column h-100">
                    <h5 class="card-title">Around the Realm</h5>
                    <h6 class="card-subtitle text-muted mb-2">By Randy Lubin</h6>
                    <div class="card-text">Tell the story of two companions racing around a fantasy world in order to win a wager.</div>
                    <a href="/Games/Around-The-Realm" target="_self" class="btn mt-auto align-self-start stretched-link ">Play game</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-sm">
            <a href="/Gallery" class="btn ">See all games</a>
          </div>
        </div>
      </div>

      <div class="homepage-create">
        <div class="row">
          <div class="col-12">
            <h2>Create a new game</h2>
          </div>  
        </div>
        <div class="row">
          <div class="col-12">
            <p>Copy one of these templates and use it as a base for your game</p>
          </div>
        </div>

        <div class="row">
          <div class="col-md-4">
            <div class="card">
              <img src="/img/connection.svg" alt="" class="card-img-top">
              <div class="card-body">
                <h3 class="card-title">Shuffled</h3>
                <a href="/Shuffled/1N5eeyKTVWo5QeGcUV_zYtwtR0DikJCcvcj6w69UkC1w" class="btn btn-block">View demo</a>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card">
              <img src="/img/connection.svg" alt="" class="card-img-top">
              <div class="card-body">
                <h3 class="card-title">Generator</h3>
                <a href="/Generator/1F0g3rVHxRA7O0rRMIQSsLCepJStxBO6pa7QJUNJb3K0/" class="btn btn-block">View demo</a>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card">
              <img src="/img/connection.svg" alt="" class="card-img-top">
              <div class="card-body">
                <h3 class="card-title">Hexflower</h3>
                <a href="/Hexflower/1wLDboZZBfBwMKswMYcRIXxz6DxRZJyAa6KPW6TvR-dM/" class="btn btn-block">View demo</a>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-sm">
            <a html="https://docs.storysynth.org/guide/design.html" class="btn mt-3 mb-5">More templates</a>
          </div>
        </div>

      </div>

      <div class="homepage-test">
        <div class="row">
          <div class="col-12">
            <h2>Test your game</h2>
          </div>  
        </div>
        <div class="row">
          <div class="col-12">
            <p>Publish your game to Storysynth at a secret but shareable link</p>
          </div>
          <app-gameMaker v-if="!launcherOnHomepage"
          :routeRoomID="$route.params.roomID"
          :routeGSheetID="$route.params.gSheetID"
          :routeGameType="$route.params.gameType"
        ></app-gameMaker>
        </div>
      
      </div>

      <div class="homepage-publish">
        <div class="row">
          <div class="col-12">
            <h2>Publish your game</h2>
          </div>  
        </div>
        <div class="row">
          <div class="col-12">
            <p>When youâ€™re ready, fill out <a href="#">this form</a> to add your game to the gallery!</p>
          </div>
          <a href="/Gallery/">
            <img class="img img-fluid" src="https://diegeticgames.com/uploads/story-synth-game-collage.png" alt="Collage of Story Synth Games">
          </a>
        </div>
      
      </div>

      
    </div>

    <app-gameLauncherSingleGame v-if="launcherOnHomepage" :gameRoute="String(launcherOnHomepage)"></app-gameLauncherSingleGame>
  
    <div class="homepage-made-by">
      Story Synth is made by <a href="https://randylubin.com">Randy Lubin</a> and he loves hearing about your games!
    </div>

  </div>
</template>

<script>
import GameMaker from "./GameMaker.vue";
import GameLauncherSingleGame from "./GameLauncherSingleGame.vue"

export default {
  name: "app-homepage",
  components: {
    "app-gameMaker": GameMaker,
    "app-gameLauncherSingleGame": GameLauncherSingleGame,
  },
  props: {
    routeGameType: String,
    routeGSheetID: String,
    routeRoomID: String,
  },
  data() {
    return {
      launcherOnHomepage: false, // if you want the game launcher on the homepage, add in the route up until the roomID e.g. "/Games/Around-The-Realm/"
    }
  },
  mounted(){
    let body = document.getElementById("app"); // document.body;
    body.classList.remove(body.classList[0]);
    body.setAttribute("id","style-template-homepage");

    let page = document.getElementsByClassName("non-footer-content")[0]; // document.body;
    page.classList.remove(page.classList[1])

    document.dispatchEvent(new Event("x-app-rendered"));
  }
};
</script>

<style scoped>
.homepage {
  max-width: 800px;
  margin: auto;
}

li {
  list-style-type: disc;
  display: list-item;
  margin-left: 20px;
}
</style>